<!DOCTYPE html>
<html>
<head>
<script>
// If statement...
if (window.openDatabase){
//Create the database the parameters are
//1. the database number
//2. version number
//3. a description
//4. the size of the database (in bytes) 1024 x 1024 = IMB
	var mydb = openDatabase("clubs_db", "0.1", "Database of Clubs Registered", 1024 * 1024);

	//create the cars table using SQL for the database using a transaction MUST BE IN A TRANSACTION
	mydb.transaction(function(t) {
		t.executeSql("CREATE TABLE IF NOT EXISTS clubs (email TEXT PRIMARY KEY ASC, firstname TEXT, lastname TEXT, clubname TEXT, purpose TEXT, category INTEGER"); //creates table
		//first column is "email": this is an integer, a PK and is in asc order
		//second column is "firstname": of type "text"
		//third column is "lastname": of type "text"
		//fourth column is "clubname": of type "text"
		//fifth column is "purpose": of type "text"
		//sixth column is "category": of type integer
		});
		}
		
else {
	alert ("WedSQL is not supported by your browser!"); //will run of WebSQL is not supported
	}
	
function addClub(){
	//check if mydb exists
	if(mydb){
		var firstname = document.GetElementById("fname").value; //box itself is id = fname value is whats inside of the box
		var lastname = document.GetElementById("lname").value; //same as before, box itself is id value is whats typed
		var email = document.GetElementById("email").value; // email input
		var clubname = document.GetElementById("cname").value; // club name value input
		var purpose = document.GetElementById("purpose").value; //club purpose value input
		var catetgory = document.GetElementsByName("club").value;//category value of checkbox
		//test to ensure user has entered both make and model
		if (first !== "" && last !== "" && email !=="" && club !== "" && purpose !== "" && category !== "") {
			//insert the user entered details into the cars table, note the use of the ? placeholder
			mydb.transaction(function(t) { //whenever you see the word transaction, it is changing your database
				t.executeSql("INSERT INTO clubs (email, firstname, lastname, clubname, purpose, category) VALUES (?, ?, ?, ?, ?, ?)", [email, firstname, lastname, clubname, purpose, category ]); // ? for values because question marks allow u to import variables as opposed to strings  
				//window.open("http://www.w3schools.com");
			
			});
			}
		else {
			alert ("You must complete all the fields!");
		
		}
		}
	else {
		alert("db not found!");
		}
	
</script>

<title>Create a Club</title>
</head>
<style>
body {
    background-color: #ff8f7e;
    display: inline-block;
}
</style>
<body>
<form action="/" method="get">
    <label>
        <h3>First Name</h3>
    </label>
    <input type="text"  id = "fname"  required autocomplete="off" required />
    <label>
        <h3>Last Name</h3>
    </label>    
    <input type="text" id = "lname" required autocomplete="off" required />
    <label>
        <h3>Email</h3>
    </label>    
    <input type="text" id = "email" required autocomplete="off" required />
    <label>
        <h3>Club Name</h3>
    </label>    
    <input type="text" id = "cname" required autocomplete="off" required />
    <label>
        <h3>Club Purpose</h3>
    </label>    
    <input type="text" id = "purpose" required autocomplete="off" required />
    <label>
        <h3>Club Category</h3>
    </label>    
    <input type="checkbox" id = "1" name="club" value=1 />
    </label>
        Service
    </label>
    <br>
    <input type="checkbox" id = "2" name="club" value=2 />
    <label>
        Honor Society
    </label>
    <br>
    <input type="checkbox" id="3" name="club" value=3 />
    <label>
        Student Government
    </label>
    <br>
    <input type="checkbox" id="4" name="club" value=4 />
    <label>
        Academic
    </label>
    <br>
        <input type="checkbox" id="5" name="club" value=5 />
    </label>
        Hobby
    </label>
    <br>
    <input type="checkbox" id= "6" name="club" value=6 />
    <label>
        Other
    </label>
    <!--<input id="othercategory" placeholder="Please enter a category" type="text" />--> <!--dont think well be able to use this-->
    <br>
    <br>
    <input type="button" id = "addclub" onclick = "addClub()" value="Submit"> 
</form>
</body>
</html>
